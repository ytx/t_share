# 定型文管理・共有Webアプリ (T-SHARE)

## プロジェクト概要
定型文を管理・共有するためのWebアプリケーション。ユーザーが定型文を作成・編集・共有し、文書作成時に効率的に活用できるシステム。

## 技術スタック
- **フロントエンド**: React
- **バックエンド**: Node.js
- **データベース**: PostgreSQL
- **デプロイ**: AWS EC2（Docker）

## 開発・運用コマンド
```bash
# 開発環境起動
npm run dev

# ビルド
npm run build

# テスト実行
npm test

# リント・型チェック
npm run lint
npm run typecheck

# Dockerビルド
docker build -t template-share .

# Docker起動
docker-compose up -d
```

## プロジェクト構成
```
/
├── frontend/          # Reactアプリケーション
├── backend/           # Node.js API サーバー
├── database/          # PostgreSQL設定・マイグレーション
├── docs/              # ドキュメント
├── docker/            # Docker設定
└── README.md
```

## 主要機能
1. **認証・権限管理** - Googleログイン、管理者権限
2. **定型文管理** - 作成・編集・検索・履歴管理、タグ・シーン分類
3. **プロジェクト管理** - 作成・編集・削除、公開/非公開設定
4. **文書作成** - Aceエディタ、マークダウン、プレビュー
5. **変数管理** - ユーザ変数・プロジェクト変数
6. **設定管理** - エディタ設定
7. **管理機能** - ユーザー・タグ・シーン・プロジェクト・データ管理

## 開発ガイドライン
- コードスタイル: Prettier + ESLint
- コミットメッセージ: Conventional Commits
- ブランチ戦略: Git Flow
- テスト: Jest + React Testing Library

## 最新の変更履歴 (2025-09-20)

### 文書参照モーダルの表示制限解除
1. **20件制限の削除**
   - Dashboard.tsx でuseSearchDocumentsQuery の呼び出しパラメータを空オブジェクト `{}` から `{ limit: 100 }` に変更
   - バックエンドAPI（documentController.ts）でデフォルト制限が20件に設定されていたため、最大制限値100件を指定
   - DocumentViewerModal で保存されている全ての文書を参照可能に変更
   - frontend/src/pages/Dashboard.tsx:41 での修正完了

### Ansible デプロイメント環境構築
1. **Ubuntu 24.04 対応 Ansible Playbook 実装**
   - ステージング環境：t_share9.trusted-host.online (mainブランチ)
   - 本番環境：t_share0.trusted-host.online (releaseブランチ)
   - 1GBメモリサーバー向け最適化設定

2. **システム基盤自動構築**
   - Docker & Docker Compose 自動インストール
   - Nginx リバースプロキシ設定（SSL/TLS対応）
   - PostgreSQL 15 データベース設定
   - UFW ファイアウォール設定
   - 1GB スワップファイル自動作成

3. **メモリ最適化設定**
   - PostgreSQL: shared_buffers=128MB, work_mem=4MB
   - Node.js: max_memory=256m
   - Nginx: worker_processes=1, worker_connections=512
   - Docker コンテナリソース制限設定

4. **セキュリティ強化**
   - SSL証明書自動配置（ワイルドカード証明書対応）
   - Rate limiting（API: 10r/s, Auth: 5r/s）
   - セキュリティヘッダー設定
   - ansible-vault による機密情報暗号化対応
   - Container security options（本番環境）

5. **運用・監視機能**
   - Systemd サービス統合
   - ログローテーション設定（7日保持）
   - ヘルスチェック機能
   - 自動再起動ポリシー設定

6. **Ansible ファイル構成**
   ```
   ansible/
   ├── inventory.yml              # ホスト定義
   ├── group_vars/               # 環境別設定
   ├── secrets/                  # 機密情報管理
   ├── playbooks/deploy.yml      # メインPlaybook
   └── templates/                # Jinja2テンプレート
   ```

7. **デプロイメント統合修正**
   - backend/Dockerfile のポート修正（5000 → 3101）
   - Docker Compose 本番環境設定
   - 環境変数テンプレート作成
   - Git リポジトリ統合（https://github.com/ytx/t_share.git）

### UI調整・レイアウト改善
1. **検索フィルター領域の調整**
   - TemplateSearch.tsx の検索条件レイアウト改善
   - シーン選択の最大幅を400pxに設定（maxWidth: 400）
   - 虫眼鏡、シーン選択、タグ、クリアボタンを1行に適切に配置
   - フレックスボックスレイアウトによる応答性向上

2. **プロジェクト選択機能の統合・移動**
   - Dashboard.tsx からプロジェクト選択を DocumentEditor に移動
   - ACE Editor の左上に配置し、保存・コピー・クリアボタンと同列化
   - プロジェクト選択のスタイルを検索条件のシーンと統一
   - 「プロジェクト」ラベルを削除し、minWidth: 200px を設定
   - 機能的統合による一貫したUX提供

3. **DocumentEditor アクションボタン領域の調整**
   - プロジェクト選択と保存・コピー・クリアボタンを囲む div の padding-top を 0 に設定
   - `p: 0.5` を `pt: 0, px: 0.5, pb: 0.5` に変更
   - レイアウトの密度向上とボタン領域の最適化

4. **DocumentEditor Props の拡張**
   - DocumentEditorProps に projects, onProjectChange, onOpenDocumentViewer を追加
   - プロジェクト連動機能の完全統合
   - Dashboard から DocumentEditor への責務移譲完了

### アプリケーション名変更・OAuth設定UI実装
1. **アプリケーション名変更（「Template Share」→ 「T-SHARE」）**
   - package.json（frontend/backend）のname・description更新
   - public/index.html のタイトル変更
   - Layout.tsx、MainLayout.tsx、AdminDashboard.tsx、Dashboard.tsx のヘッダ表示名変更
   - login.tsx のページタイトル変更
   - global.css のコメント更新
   - logger.ts のサービス名変更
   - dataExportImportController.ts のエクスポートファイル名変更

2. **Google OAuth設定UI実装**
   - OAuthSettings.tsx コンポーネント新規作成
   - 基本設定（有効/無効、クライアントID/シークレット、リダイレクトURI）
   - スコープ設定（推奨・追加スコープの選択UI）
   - 自動承認設定（新規ユーザーの自動承認可否）
   - 設定テスト機能・保存機能
   - セキュリティ注意事項・設定手順の表示

3. **OAuth設定バックエンドAPI実装**
   - oauthConfigController.ts 新規作成
   - GET /api/admin/oauth/google/config - 設定取得
   - PUT /api/admin/oauth/google/config - 設定更新
   - POST /api/admin/oauth/google/test - 設定テスト
   - Zodバリデーションによる入力検証
   - クライアントシークレットのマスキング機能

4. **管理画面統合**
   - AdminDashboard.tsx にOAuth設定タブ追加
   - admin.ts ルーティングにOAuth関連エンドポイント追加
   - 認証・管理者権限チェック適用

5. **認証問題修正**
   - OAuth設定コンポーネントの認証方式をlocalStorage → Redux Storeに統一
   - getAuthHeaders関数でuseSelector使用に変更
   - 他の管理コンポーネントとの認証パターン統一

## 以前の変更履歴 (2025-09-20)

### 右側パネルの垂直分割機能の実装
1. **SplitPaneを使った上下分割**
   - 右側パネルをSplitPaneで上下に分割
   - 上部：既存のDocumentEditor（保存・コピー・クリアボタン付き）
   - 下部：新しいSimpleMarkdownEditor（ボタンなし）
   - リサイザーバーでの動的サイズ調整機能

2. **SimpleMarkdownEditorコンポーネントの新規作成**
   - DocumentEditorから機能を簡素化したシンプル版
   - 保存・コピー・クリアボタンを削除
   - プロジェクト連動でlocalStorageに自動保存
   - プロジェクト切り替え時の内容自動復元
   - 500msデバウンスでの自動保存

3. **プロジェクト連動データ管理**
   - `projectEditorContent`をlocalStorageスキーマに追加
   - プロジェクトIDをキーとした内容保存・復元
   - プロジェクト未選択時の適切なプレースホルダー表示
   - リロード時の内容復元機能

4. **ACEエディタの高さ調整問題の修正**
   - MarkdownEditorコンポーネントのflexbox対応
   - Paper・Boxコンポーネントの高さ継承修正
   - SplitPaneサイズ変更に対応した動的高さ調整
   - DocumentEditorコンテナの高さ計算修正

5. **UI/UX改善**
   - 水平リサイザーのスタイル修正（縦表示 → 横表示）
   - SplitPaneのpaneStyleとresizerStyleの最適化
   - エディタコンテナのmargin・paddingの調整
   - React Router Future Flagsの追加
   - MUI Selectコンポーネントの値検証修正

6. **技術的修正**
   - 固有のeditorIdでACEエディタのID重複回避
   - flexboxレイアウトでの高さ継承チェーン修正
   - MarkdownEditor内のPaperコンポーネントpadding調整
   - overflow: 'hidden'とminHeight: 0の適切な配置

## 以前の変更履歴 (2025-09-20)

### 文書参照モーダルウィンドウの実装
1. **DocumentViewerModalコンポーネントの新規作成**
   - 保存された全文書の参照・検索・閲覧機能
   - キーワード検索機能（タイトル・内容の全文検索）
   - 文書間のナビゲーション機能（進む・戻る）
   - 文書内容の表示とスクロール機能
   - 選択した文書をエディタで開く機能

2. **キーボードショートカット対応**
   - `←` / `→`: 前後の文書に移動
   - `↑` / `↓`: 文書内容をスクロール（50pxずつ）
   - `Escape`: モーダルを閉じる
   - リアルタイムキーボードイベント処理

3. **メイン画面UIの改善**
   - ドロップダウンの左側に文書参照アイコンボタン（ViewList）を追加
   - ドロップダウンは最新20件に制限、全文書はモーダルでアクセス
   - アイコンボタンのツールチップとスタイリング
   - レスポンシブ対応のレイアウト調整

4. **検索・フィルタリング機能**
   - リアルタイム検索（タイトル・内容での部分一致）
   - 検索結果に応じた文書リストの動的更新
   - 検索結果がない場合の適切なメッセージ表示
   - 検索状態のリセット機能

### チェックボックス機能の改善
1. **新しいチェックボックス判定パターン**
   - `[?]`：モーダルでの初期状態は未チェック
   - `[*]`：モーダルでの初期状態はチェック済み
   - 従来の`[?]`パターンから2種類のパターンに拡張

2. **VariableSubstitutionModalの修正**
   - 両パターンの正しい初期状態設定
   - ラベル表示からの`[*]`パターン削除処理追加
   - プレビュー生成での両パターンの削除処理
   - チェックボックス状態管理の改善

3. **モーダルレイアウトの最適化**
   - 画面サイズに応じた動的サイズ調整（90vh）
   - 左側エリア（変数・チェックボックス）のスクロール機能
   - プレビューエリアの内部スクロール実装
   - 変数説明テキストの削除でUI簡素化
   - チェックボックス表示欄のスクロール無効化

### シーン管理システムの改善・バグ修正
1. **シーン作成400エラーの修正**
   - 400 Bad Request エラーの原因調査と修正完了
   - フロントエンドからの`color`フィールド送信問題を解決
   - バックエンドvalidationでdescriptionフィールドの空文字列許可（`.allow('')`）
   - シーンにカラー機能が不要との要件に基づき、カラー関連機能を完全削除

2. **シーン管理UI改善**
   - シーン一覧テーブルから色の列を削除
   - テーブル高さを画面サイズ応答型に変更（`calc(100vh - 300px)`）
   - フォームデータ構造の簡素化（`SceneFormData`からcolorフィールド削除）
   - Chipコンポーネントからcolor属性参照を削除

3. **エディタ保存・コピー機能の強化**
   - 保存・コピー処理のワークフロー改善
   - 先頭空行自動削除機能（`content.replace(/^\s*\n+/, '')`）
   - 保存 → 先頭空行削除 → クリップボードコピー → エディタクリア の順次実行
   - `handleSaveAndCopy`関数の処理順序最適化

4. **設定画面タブ順序の改善**
   - 設定タブの順序変更：プロジェクト → プロジェクト変数 → ユーザ変数 → エディタ
   - より論理的なワークフロー順序への調整
   - `SettingsModal.tsx`でのタブインデックス再配置

5. **技術的修正**
   - バックエンド`sceneService.ts`から色関連処理削除
   - バリデーションスキーマ`validation.ts`の更新
   - TypeScript型定義の整合性確保
   - フロントエンド・バックエンド間のデータ型統一

## 最新の変更履歴 (2025-09-19)

### タグフィルター三状態システムの実装
1. **三状態タグフィルター機能**
   - タグクリックで「未使用 → 含む → 除外 → 未使用」の状態循環
   - 含む状態：青色（primary）で表示
   - 除外状態：赤色（error）+ 取り消し線で表示
   - 未使用状態：デフォルト色（タグ固有色の薄い背景）

2. **バックエンドAPI拡張**
   - `TemplateSearchOptions`に`excludedTagIds`フィールド追加
   - 検索クエリでNOT条件による除外フィルター実装
   - バリデーションスキーマに`excludedTagIds`を追加
   - コントローラーで空文字列配列の適切な処理

3. **フロントエンド機能実装**
   - `TemplateSearch.tsx`でタグ状態管理を三状態に拡張
   - `handleTagToggle`関数で状態循環ロジック実装
   - 除外状態のタグに`textDecoration: 'line-through'`適用
   - RTK Queryで空配列送信を防ぐ処理追加

4. **localStorage対応**
   - `excludedTagFilter`フィールドをlocalStorageスキーマに追加
   - 三状態タグフィルターの永続化対応
   - リロード時の状態復元機能

5. **UI/UX改善**
   - 除外タグの視覚的判別性向上（赤色背景 + 取り消し線）
   - タグ状態の直感的理解を促進
   - フィルター条件の明確化

## 最新の変更履歴 (2025-09-19)

### シーンフィルター持続性・サーバー連携修正
1. **検索条件持続性問題の解決**
   - テンプレート検索でシーンフィルターが保存されない問題を修正
   - ヘッダー復元時の意図しない検索条件変更を防止
   - 遅延復元システム（100ms）で復元順序を制御
   - localStorage復元とヘッダー変更の適切な分離

2. **サーバー側文書保存統合**
   - Phase 3.3 文書管理機能の統合完了
   - ローカル専用保存からサーバー保存への移行
   - `useGetProjectDocumentsQuery` および `createDocument` API活用
   - 文書データのサーバー反映機能実装

3. **シーン同期動作の最適化**
   - リロード時：localStorage復元状態を維持
   - ヘッダー変更時：検索フィルターと連動
   - React re-render 対策（useRef による前回値追跡）
   - タイミング制御による復元競合回避

4. **技術的修正**
   - `TemplateSearch.tsx` でシーン同期ロジック改善
   - `DocumentEditor.tsx` でサーバー保存統合
   - `Dashboard.tsx` で `initialSceneId` 連携復元
   - デバッグログ追加・削除による問題解決

### 変数管理システムの実装
1. **ユーザ変数管理機能**
   - 設定画面にユーザ変数管理タブを追加
   - ユーザ固有の変数（{{name}}, {{email}}等）の作成・編集・削除
   - 定型文で`{{変数名}}`形式で使用可能
   - 変数の説明・用途管理

2. **プロジェクト変数管理機能**
   - 設定画面にプロジェクト変数管理タブを追加
   - プロジェクト選択式の変数管理
   - プロジェクト固有の変数設定
   - プロジェクトが選択されている場合のみ利用可能

3. **変数置換システム強化**
   - テンプレート挿入時の変数自動検出
   - ユーザ変数・プロジェクト変数の自動適用
   - VariableSubstitutionModalの改善
   - 変数ソース表示（ユーザ変数/プロジェクト変数）

### UI/UX改善
1. **設定画面の整理**
   - 管理者スイッチをユーザーアバターの右側に移動
   - SupervisorAccountアイコンを削除
   - コンテキストメニューから設定・管理者ダッシュボードを削除
   - 「全般」「外観」「通知」タブを削除
   - キーバインディングをドロップダウンに変更
   - エクスポート・インポートアイコンを削除

2. **テンプレート挿入改善**
   - 検索結果クリック時に改行を最初に挿入
   - チェックボックス機能：`[?]`パターンでモーダル設定
   - 変数・チェックボックス両方対応のモーダル表示
   - 通常の`- [ ]`はチェックボックスとして認識しない仕様

### テンプレート処理システムの修正
1. **連続クリック防止機能**
   - 3秒間の重複クリック防止機能
   - キャンセル時の即座再クリック許可
   - タイムアウト・モーダル状態の適切な管理

2. **技術的修正**
   - useEffectとuseRefを使った状態管理の最適化
   - onTemplateProcessedコールバック追加で親子間通信改善
   - モーダル再表示問題の根本的解決
   - デバッグログの追加・削除

### ACEエディタテーマ設定の実装
1. **ライト・ダークモード個別テーマ設定**
   - エディタ設定にACEエディタのテーマ選択機能を追加
   - ライトモードとダークモードで異なるテーマを設定可能
   - 従来の単純なlight/darkテーマ切り替えを廃止
   - 豊富なACEテーマオプション（ライト7種類、ダーク16種類）

2. **バックエンドAPI拡張**
   - Prismaスキーマに `editorLightTheme`, `editorDarkTheme` フィールド追加
   - `UserPreferenceService` でACEテーマ設定の保存・取得機能実装
   - データベースマイグレーション対応
   - Zodバリデーションスキーマにテーマフィールド追加

3. **フロントエンド機能実装**
   - `EditorSettingsPanel` にACEテーマ選択UI追加
   - Material-UI Selectコンポーネントでテーマ選択
   - テーマモード（light/dark）に応じた自動テーマ切り替え
   - 全ACEテーマの動的インポート対応

4. **エディタ統合**
   - `MarkdownEditor` コンポーネントでACEテーマ適用
   - `DocumentEditor` でユーザー設定との連携
   - テーマ変更の即座反映

5. **技術的修正・バグフィックス**
   - Material-UI Select undefined値エラーの修正
   - API型定義とバックエンドスキーマの整合性確保
   - Zodバリデーションによるテーマフィールド認証問題の解決
   - フロントエンド・バックエンド間のデータフロー最適化

### データエクスポート・インポート機能の実装
1. **包括的データ管理システム**
   - 全システムデータのエクスポート機能（pretty formatのJSON）
   - エクスポートしたデータからの完全システム復元機能
   - 管理画面の「データ管理」タブに統合
   - 開発・運用初期での利用を想定

2. **バックエンドAPI実装**
   - `DataExportImportService` - データベース操作を処理
   - `dataExportImportController` - REST APIエンドポイント
   - `/api/admin/data/export` - 全データエクスポート
   - `/api/admin/data/import` - データインポート
   - `/api/admin/data/stats` - エクスポート統計
   - `/api/admin/data/validate` - インポートデータ検証

3. **フロントエンド機能**
   - `DataManagementPanel` - エクスポート・インポートUI
   - 統計情報表示（ユーザー・定型文・プロジェクト・文書件数）
   - ファイル検証機能（エラー・警告表示）
   - インポートオプション（既存データクリア・ID保持）
   - プログレス表示・エラーハンドリング

4. **データ処理の安全性**
   - トランザクション内での処理実行
   - 外部キー制約の適切な管理
   - 依存関係を考慮した順序処理
   - バリデーション・エラーハンドリング
   - 全12テーブルの完全対応

### プロジェクト管理システムの実装
1. **ユーザープロジェクト管理機能**
   - プロジェクトの作成・編集・削除機能
   - 公開/非公開設定（isPublicフラグ）
   - 設定画面内にプロジェクト管理タブを追加
   - 文書数による削除制限（文書がある場合は削除不可）
   - 日本語ローカライズ対応

2. **バックエンドAPI拡張**
   - Prismaスキーマに`isPublic`フィールド追加
   - プロジェクトサービス・コントローラーの更新
   - adminModeパラメータ対応（管理者は全プロジェクト表示）
   - アクセス制御ロジック実装

3. **管理画面プロジェクト管理**
   - 管理者用プロジェクト管理画面の実装
   - `adminMode: true`で全プロジェクト表示
   - 作成者情報・文書数・公開設定の表示
   - 管理者権限での編集・削除機能

### 定型文編集機能の強化
1. **タグ作成機能**
   - 定型文編集画面でのタグ作成機能追加
   - カラーピッカー対応（デフォルト: #1976d2）
   - 作成後の自動選択機能
   - エラーハンドリング・バリデーション

2. **UI/UX改善**
   - 既存タグ選択UIを維持しつつ作成機能を統合
   - シーン作成と同様のUI構成
   - フォーム表示・非表示の切り替え
   - 作成中ローディング状態表示

### 技術的修正・改善
1. **API実装**
   - RTK Query hooksの追加（useCreateTagMutation）
   - TemplateEditModal・TemplateCreateModalにタグ作成機能統合
   - 状態管理の最適化（作成フォーム状態・エラーハンドリング）

2. **データベース・バックエンド**
   - プロジェクトスキーマ更新（Prisma）
   - adminModeに応じたプロジェクト取得ロジック
   - アクセス制御とプライバシー設定

3. **フロントエンド改善**
   - コンポーネント間の状態管理統一
   - エラー表示とローディング状態の一貫性
   - Material-UIコンポーネントの活用

### 技術的修正・バグフィックス
1. **loggerインポート修正**
   - `dataExportImportController.ts` - default importに変更
   - `dataExportImportService.ts` - default importに変更
   - バックエンドエラー「Cannot read properties of undefined」の解決

2. **管理画面統合**
   - データ管理機能を設定画面から管理画面に移動
   - 管理者権限が必要な機能として適切に配置
   - UI/UX統一とアクセス制御の改善

### 以前の変更履歴 (2025-01-19)

### 管理画面機能の実装
1. **タグ管理システム**
   - タグの追加・編集・削除機能
   - タグのマージ機能（重複タグの統合）
   - 統計情報表示（使用回数・関連テンプレート数）
   - カラーパレット対応（事前定義色 + 自由入力）
   - タブ形式のUI（一覧・マージ・統計）

2. **シーン管理システム**
   - シーンの追加・編集・削除機能
   - シーンのマージ機能（重複シーンの統合）
   - 統計情報表示（関連テンプレート数・使用状況）
   - タグ管理と同様のUI構成

3. **管理ダッシュボード**
   - 「管理者ダッシュボード」→「管理画面」に変更
   - 統計カード表示を削除してコンパクト化
   - 上部スペースを圧縮（64px → 16px）
   - テーブルのスクロール機能追加
   - SplitPaneの視認性向上（カスタムCSS）

4. **ユーザー管理システム**
   - ユーザーの追加・編集・削除機能
   - 管理者権限の設定・変更
   - パスワードハッシュ化（bcrypt）
   - バリデーション（Zod）
   - 500エラー・404エラーの修正

5. **管理者機能強化**
   - 管理者モード切替スイッチ
   - 全定型文表示 vs 公開・自分の定型文のみ表示
   - SupervisorAccountアイコン表示
   - テンプレート検索でのadminModeパラメータ対応

### バックエンドAPI拡張
1. **管理者用CRUD API**
   - `POST /api/admin/users` - ユーザー作成
   - `PUT /api/admin/users/:id` - ユーザー更新
   - `DELETE /api/admin/users/:id` - ユーザー削除
   - Zodバリデーション・エラーハンドリング強化

2. **テンプレート検索拡張**
   - adminModeパラメータ追加
   - 管理者権限による表示制御
   - バリデーションスキーマ更新

3. **データベース修正**
   - Prismaスキーマフィールド名の修正
   - `templates` → `createdTemplates`
   - `projects` → `createdProjects`

### UI/UX改善
1. **検索インターフェースの整理**
   - 定型文検索のタイトルと新規作成ボタンを削除
   - キーワード検索とタグフィルターを統合し、折りたたみ可能に
   - 検索・フィルターボタンとクリアボタンをアイコンのみに変更
   - フィルター部分のパディング・マージンを調整してコンパクト化

2. **ステータス管理の簡素化**
   - 検索条件・編集画面からステータス項目を削除
   - 定型文作成時は自動的に公開状態に設定
   - 公開スイッチは「新しいシーンを作成」ボタンの右側に配置

3. **スクロール動作の最適化**
   - ページ全体のスクロールを無効化
   - 検索結果エリアとエディタ内部でのみスクロール可能
   - ヘッダを固定位置に設定（position: fixed）
   - SplitPaneとコンテンツ高さを適切に調整

4. **テンプレート表示の改善**
   - 非公開テンプレートに赤色の背景色を追加
   - テンプレートカードの内容を全表示（スクロール無効化）
   - カード内のpタグマージンを調整

5. **エディタ改善**
   - ACEエディタの配置を調整し、保存・コピーボタンとの重複を解消
   - エディタ内スクロールを有効化
   - ボタンエリアの影を削除してフラットデザインに統一

6. **ID属性の追加**
   - 主要なdiv要素にID属性を追加（デバッグ・特定の容易化）
   - dashboard-container、main-content、search-filters-header等

### 技術的修正
- バックエンドバリデーションでテンプレート更新時の空文字列を許可
- エディタ設定でスクロールバー表示オプションを追加
- レスポンシブ対応とレイアウト調整
- RTK Query mutations の実装
- 管理者認証・認可ミドルウェアの適用